<!doctype html>
<html lang="ca">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <!-- PWA / iOS -->
  <meta name="theme-color" content="#0b1220">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="MeteoValls">

  <!-- SEO b√†sic -->
  <title>MeteoValls ¬∑ Estaci√≥ meteorol√≤gica de Valls (Alt Camp) en temps real</title>
  <meta name="description" content="MeteoValls (abans MeteoCandela) √©s una estaci√≥ meteorol√≤gica autom√†tica a Valls (Alt Camp) amb dades en temps real de temperatura, humitat, vent, ratxes i pluja. Gr√†fiques actualitzades cada 5 minuts.">
  <link rel="canonical" href="https://meteocandela.cat/">
  <meta name="robots" content="index,follow">

  <!-- Open Graph (WhatsApp / Facebook / Telegram) -->
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="MeteoValls">
  <meta property="og:locale" content="ca_ES">
  <meta property="og:title" content="MeteoValls ¬∑ Estaci√≥ meteorol√≤gica de Valls (Alt Camp)">
  <meta property="og:description" content="MeteoValls (abans MeteoCandela). Dades en temps real de temperatura, humitat, vent, ratxes i pluja.">
  <meta property="og:url" content="https://meteocandela.cat/">
  <meta property="og:image" content="https://meteocandela.cat/og-image.png">
  <meta property="og:image:secure_url" content="https://meteocandela.cat/og-image.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="MeteoValls ¬∑ Estaci√≥ meteorol√≤gica de Valls en temps real: temperatura, vent, ratxes i pluja">

  <!-- Twitter / X -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="MeteoValls ¬∑ Estaci√≥ meteorol√≤gica de Valls">
  <meta name="twitter:description" content="MeteoValls (abans MeteoCandela). Dades en temps real de temperatura, vent, humitat i pluja.">
  <meta name="twitter:image" content="https://meteocandela.cat/og-image.png">
  <meta name="twitter:image:alt" content="MeteoValls ¬∑ Estaci√≥ meteorol√≤gica de Valls en temps real">

  <!-- Schema.org: Estaci√≥ meteorol√≤gica -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WeatherStation",
    "name": "MeteoValls",
    "alternateName": "MeteoCandela",
    "url": "https://meteocandela.cat/",
    "description": "Estaci√≥ meteorol√≤gica autom√†tica privada a Valls amb dades en temps real de temperatura, vent, humitat i pluja.",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Valls",
      "addressRegion": "Tarragona",
      "addressCountry": "ES"
    },
    "areaServed": {
      "@type": "AdministrativeArea",
      "name": "Alt Camp"
    }
  }
  </script>

  <!-- Schema.org: FAQ (SEO) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "Cada quant s‚Äôactualitzen les dades?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Les dades s‚Äôactualitzen aproximadament cada 5 minuts, segons la recepci√≥ dels sensors i la connexi√≥."
        }
      },
      {
        "@type": "Question",
        "name": "On est√† situada l‚Äôestaci√≥ MeteoValls?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "L‚Äôestaci√≥ √©s a Valls (Alt Camp, Tarragona), en un entorn urb√† representatiu de la zona."
        }
      },
      {
        "@type": "Question",
        "name": "Les dades s√≥n oficials?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "No. S√≥n dades d‚Äôuna estaci√≥ meteorol√≤gica autom√†tica privada amb finalitat informativa i divulgativa."
        }
      },
      {
        "@type": "Question",
        "name": "Per qu√® de vegades falten dades?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Pot ser per interrupcions temporals de connexi√≥, manteniment o p√®rdues puntuals de senyal."
        }
      },
      {
        "@type": "Question",
        "name": "Qu√® √©s una ratxa de vent?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "√âs la velocitat m√†xima puntual del vent registrada en un interval curt, diferent del vent mitj√†."
        }
      }
    ]
  }
  </script>

  <!-- Icons -->
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png">

  <!-- PWA manifest -->
  <link rel="manifest" href="/site.webmanifest">

  <!-- CSS / JS (PUJA el n√∫mero quan facis canvis!) -->
  <link rel="stylesheet" href="/style.css?v=2026-02-01-81">

  <!-- IMPORTANT (recomanat): evita depend√®ncia de CDN per PWA/TWA.
       Si encara no tens Chart.js en local, deixa la l√≠nia CDN (comentada) fins que el copi√Øs.
       Quan el tinguis, usa el fitxer local i elimina el CDN. -->
 <!-- <script defer src="/vendor/chart.umd.js"></script> -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> -->

  <script defer src="https://cdn.jsdelivr.net/npm/suncalc@1.9.0/suncalc.js"></script>
  <script defer src="/app.js?v=2026-02-02-07"></script>
</head>


<body>

  <!-- Contingut sem√†ntic accessible -->
  <section class="sr-only">
    <h1>Estaci√≥ meteorol√≤gica a Valls ‚Äì MeteoValls</h1>
    <p>
      MeteoValls √©s una estaci√≥ meteorol√≤gica autom√†tica situada a Valls, comarca de l‚ÄôAlt Camp (Tarragona),
      al barri de la Candela. Ofereix dades meteorol√≤giques en temps real de temperatura, humitat, vent, ratxes i pluja.
    </p>
  </section>

  <header class="hero">
    <div class="hero__overlay"></div>
    <div class="hero__content">
      <h1>MeteoValls ¬∑ Temps Vallenc</h1>
      <p id="lastUpdated" aria-live="polite">Carregant‚Ä¶</p>
      <p id="statusLine" class="status" aria-live="polite">‚Äî</p>
    </div>
  </header>

  <main class="grid">

    <!-- Navegaci√≥ r√†pida -->
    <section class="card span2">
      <nav class="quick-nav" aria-label="Navegaci√≥ principal">
        <a href="previsio.html" class="quick-nav__btn">‚õÖ Previsi√≥</a>
        <a href="historic.html" class="quick-nav__btn">üìÖ Hist√≤ric</a>
      </nav>
    </section>

    <!-- ACTUAL -->
    <section class="card" id="cardCurrent">
      <div class="card-head">
        <h2>Actual</h2>
        <div id="currentIcon" class="now-icon" aria-hidden="true"></div>
      </div>

      <div id="sourceLine" class="source">‚Äî</div>

      <div class="kpis">
        <div class="kpi"><div class="kpi__v" id="temp">‚Äî</div><div class="kpi__l">Temperatura (¬∞C)</div></div>
        <div class="kpi"><div class="kpi__v" id="hum">‚Äî</div><div class="kpi__l">Humitat (%)</div></div>
        <div class="kpi"><div class="kpi__v" id="wind">‚Äî</div><div class="kpi__l">Vent (km/h)</div></div>
        <div class="kpi"><div class="kpi__v" id="rainDay">‚Äî</div><div class="kpi__l">Pluja dia (mm)</div></div>
      </div>

      <div class="subs">
        <div id="tempSub">‚Äî</div>
        <div id="tempMinMax">‚Äî</div>
        <div id="gustSub">‚Äî</div>
        <div id="rainRateSub">‚Äî</div>
        <div id="sunSub">‚Äî</div>
      </div>
    </section>

    <!-- SELECTOR DE DIA (NECESSARI pel JS) -->
    <section class="card span2">
      <div class="daybar">
        <div class="daybar__left">
          <div class="daybar__title">Gr√†fiques del dia</div>
          <div id="dayLabel" class="daybar__subtitle">‚Äî</div>
        </div>

        <div class="daybar__right">
          <button id="dayPrev" class="btn" type="button" aria-label="Dia anterior">‚óÄ</button>

          <label class="sr-only" for="daySelect">Selecciona dia</label>
          <select id="daySelect" class="select" aria-label="Selecciona dia">
            <option>Carregant‚Ä¶</option>
          </select>

          <button id="dayNext" class="btn" type="button" aria-label="Dia seg√ºent">‚ñ∂</button>
        </div>
      </div>
    </section>

    <!-- GR√ÄFIQUES -->
    <section class="card chart-box">
      <h2 id="chartTempTitle">Temperatura</h2>
      <canvas id="chartTemp"></canvas>
    </section>

    <section class="card chart-box">
      <h2 id="chartHumTitle">Humitat</h2>
      <canvas id="chartHum"></canvas>
    </section>

    <section class="card chart-box span2">
      <h2 id="chartWindTitle">Vent i ratxa</h2>
      <canvas id="chartWind"></canvas>
    </section>

    <section class="card chart-box span2">
      <h2 id="chartRainTitle">Pluja acumulada (dia)</h2>
      <canvas id="chartRain"></canvas>
      <p id="rainMsg" class="muted-line" style="display:none;"></p>
    </section>

    <!-- FAQ (visible per usuaris, col¬∑lapsable) -->
    <section class="card span2" id="faq">
      <h2>Preguntes freq√ºents</h2>

      <details class="faq-item">
        <summary>Qu√® √©s MeteoValls?</summary>
        <p>
          MeteoValls √©s una estaci√≥ meteorol√≤gica autom√†tica situada a <strong>Valls</strong>, (Alt Camp),
          que mostra dades reals de temperatura, humitat, vent, ratxes i pluja.
        </p>
      </details>

      <details class="faq-item">
        <summary>Cada quant s‚Äôactualitzen les dades?</summary>
        <p>
          Les dades s‚Äôactualitzen aproximadament cada 5 minuts, segons la recepci√≥ dels sensors i la connexi√≥.
        </p>
      </details>

      <details class="faq-item">
        <summary>D‚Äôon surten les dades?</summary>
        <p>
          Les dades provenen directament dels sensors f√≠sics de l‚Äôestaci√≥. No s‚Äôutilitzen prediccions ni fonts externes.
        </p>
      </details>

      <details class="faq-item">
        <summary>Les dades s√≥n oficials?</summary>
        <p>
          No. S√≥n dades d‚Äôuna estaci√≥ privada amb finalitat informativa i divulgativa.
        </p>
      </details>

      <details class="faq-item">
        <summary>Per qu√® de vegades falten dades?</summary>
        <p>
          Pot ser per interrupcions temporals de connexi√≥, manteniment o p√®rdues puntuals de senyal.
        </p>
      </details>

      <details class="faq-item">
        <summary>Qu√® √©s una ratxa de vent?</summary>
        <p>
          √âs la velocitat m√†xima puntual del vent registrada en un interval curt, diferent del vent mitj√†.
        </p>
      </details>
    </section>

  </main>

  <footer class="footer">
    <span>¬© <span id="year"></span> MeteoValls</span>
    <span style="margin-left:12px;">
      <a href="sobre.html" style="color:inherit; text-decoration:underline;">Sobre l‚Äôestaci√≥</a>
    </span>
  </footer>

  <!-- Nom√©s una FAQ oberta a la vegada -->
  <script>
    (function () {
      const box = document.getElementById("faq");
      if (!box) return;

      const items = Array.from(box.querySelectorAll("details.faq-item"));
      items.forEach((d) => {
        d.addEventListener("toggle", () => {
          if (!d.open) return;
          items.forEach((other) => {
            if (other !== d) other.open = false;
          });
        });
      });
    })();
  </script>

  <script>
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("/sw.js");
      });
    }
  </script>

  <button id="btnInstallFab" class="install-fab" type="button" style="display:none;" aria-label="Instal¬∑la l'app">
    ‚¨áÔ∏è Instal¬∑la l‚Äôapp
  </button>

  <div id="iosInstallTip" class="install-tip" style="display:none;" role="dialog" aria-modal="true" aria-label="Com instal¬∑lar a iPhone">
    <div class="install-tip__card">
      <div class="install-tip__title">Instal¬∑lar a iPhone</div>
      <div class="install-tip__text">
        1) Toca <strong>Compartir</strong> (icona ‚¨ÜÔ∏è)<br>
        2) Tria <strong>Afegir a pantalla d‚Äôinici</strong>
      </div>
      <button id="btnCloseIosTip" class="install-tip__close" type="button">D‚Äôacord</button>
    </div>
  </div>

</body>
</html>
